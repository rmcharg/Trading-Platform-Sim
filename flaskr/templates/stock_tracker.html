{% extends "layout.html" %}

{% block main %}
<h3> Track Stock </h3>


<form class method="post" action="/stock_tracker">
    <div class="form-group mb-2">
        <input type="text" class="form-control mb-3 mx-auto w-auto" name="symbol" placeholder="Enter Stock" required>
    </div>
    <select class="form-select mx-auto w-auto mb-3" name="period">
        <option value="5d"> 5 days </option>
        <option value="6mo"> 6 months </option>
        <option value="1y"> 1 Year</option>
        <option value="5y"> 5 Years</option>

    </select>
</div>

    <button type="submit" class="btn btn-primary">Track</button>
</form>


{% if graphJSON %}
<div class = "container-fluid w-75 mt-3">
    <div id="chart" class="chart">
    </div>
</div>

<script type="text/javascript" data-graph = "{{ graphJSON }}"> 
    var graph = document.currentScript.dataset.graph;
    var figure = JSON.parse(graph)
    Plotly.react('chart', figure, {});
</script>
{% endif%}
{% endblock %}